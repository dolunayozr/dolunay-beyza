<!DOCTYPE html>
<html lang="tr">

<head>
    <meta charset="UTF-8">
    <title>Dolunay üíñ Sufle</title>

    <style>
         :root {
            --day-bg: url("https://media.giphy.com/media/3o6ZtnFZ9M7E6D0nNS/giphy.gif");
            --night-bg: #120018;
            --box-bg: rgba(255, 255, 255, .92);
            --text: #5a2a4a;
        }
        
        body {
            margin: 0;
            font-family: 'Comic Sans MS', cursive;
            background: var(--day-bg) no-repeat center/cover fixed;
            color: var(--text);
            text-align: center;
            transition: .8s;
        }
        
        body.night {
            background: var(--night-bg);
            color: #ffd6f0;
        }
        
        .overlay {
            position: fixed;
            inset: 0;
            background: rgba(255, 200, 220, .6);
            backdrop-filter: blur(2px);
            z-index: -1;
        }
        
        .fullscreen {
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding-top: 160px;
        }
        
        .box {
            background: var(--box-bg);
            padding: 45px;
            border-radius: 30px;
            max-width: 520px;
            width: 90%;
            box-shadow: 0 20px 40px rgba(0, 0, 0, .25);
            animation: fade 1s;
        }
        
        @keyframes fade {
            from {
                opacity: 0;
                transform: scale(.9);
            }
            to {
                opacity: 1;
            }
        }
        
        button {
            padding: 14px 30px;
            border-radius: 40px;
            border: none;
            margin: 10px;
            font-size: 18px;
            cursor: pointer;
            background: linear-gradient(135deg, #ff9eb8, #ffb6c1);
            color: white;
        }
        
        .top-cat-box {
            position: fixed;
            top: 25px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 10;
        }
        
        .top-cat {
            width: 120px;
            cursor: pointer;
        }
        
        .level {
            font-size: 20px;
            margin-top: 5px;
            font-weight: bold;
        }
        
        .fireworks {
            position: fixed;
            inset: 0;
            pointer-events: none;
            background: url("https://media.giphy.com/media/l3vR85PnGsBwu1PFK/giphy.gif") repeat;
            opacity: .7;
        }
        
        .ending {
            font-size: 42px;
            animation: glow 2s infinite alternate;
        }
        
        @keyframes glow {
            from {
                text-shadow: 0 0 10px #ffb6c1;
            }
            to {
                text-shadow: 0 0 25px #fff;
            }
        }
    </style>
</head>

<body>
    <div class="overlay"></div>

    <div class="top-cat-box">
        <img class="top-cat" src="https://media.giphy.com/media/VbnUQpnihPSIgIXuZv/giphy.gif" onclick="catClick()">
        <div class="level" id="levelText">üêæ Sufle ‚Äì Level 1</div>
    </div>

    <audio id="meow" src="sounds/meow.mp3"></audio>

    <script>
        let level = Number(localStorage.getItem("level")) || 1;
        document.getElementById("levelText").innerText =
            `üêæ Sufle ‚Äì Level ${level}`;

        function catClick() {
            level++;
            localStorage.setItem("level", level);
            document.getElementById("levelText").innerText =
                `üêæ Sufle ‚Äì Level ${level}`;
            const m = document.getElementById("meow");
            m.currentTime = 0;
            m.play();
        }

        if (localStorage.getItem("ending") === "true") {
            document.body.classList.add("night");
            document.body.innerHTML += `
    <div class="fireworks"></div>
    <div class="fullscreen">
      <div class="ending">‚ú® Sonsuz Mutlu Son ‚ú®</div>
    </div>
  `;
            localStorage.removeItem("ending");
        } else {
            document.body.innerHTML += `
  <div class="fullscreen" id="story">
    <div class="box">
      <p>
        Dolunay‚Ä¶<br><br>
        Bu k√º√ß√ºk site sana olan sevgimin  
        dijital bir hali üíå
      </p>
      <button onclick="showChoices()">Devam Et üíñ</button>
    </div>

    <div class="box" id="choices" style="display:none;">
      <button onclick="finish()">üíó B√∂yle olacaƒüƒ±nƒ± hissediyordum</button>
      <button onclick="finish()">üòÑ Sadece fl√∂rt sanmƒ±≈ütƒ±m</button>
    </div>
  </div>
  `;
        }

        function showChoices() {
            document.getElementById("choices").style.display = "block";
        }

        function finish() {
            document.getElementById("story").innerHTML += `
    <div class="box">üîÅ Sayfayƒ± yenile</div>
  `;
            localStorage.setItem("ending", "true");
        }
    </script>

</body>

</html>